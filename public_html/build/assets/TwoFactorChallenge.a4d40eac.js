import{r as m,Z as $,u as l,z as f,D as s,E as o,y as c,O as w,A as v,X as b,C as g,v as n,N as i,L as u,n as P}from"./vue.m.ac3c7a36.js";import{_ as h,a as B,b as N}from"./FormValidationErrors.4570b67b.js";import{g as R,J as S,e as T}from"./BaseDivider.f6ee0485.js";import{_ as k}from"./FormControl.5e959219.js";import{_}from"./FormField.b87c9acf.js";import{_ as U}from"./BaseLevel.5518a455.js";import"./_commonjsHelpers.f037b798.js";import"./app.d3133aa3.js";const F={class:"mb-4 text-sm text-gray-600"},z=["onClick"],X={__name:"TwoFactorChallenge",setup(E){const r=m(!1),t=$({code:"",recovery_code:""}),p=m(null),y=m(null),C=async()=>{var d,e;r.value^=!0,await P(),r.value?((d=p.value)==null||d.focus(),t.code=""):((e=y.value)==null||e.focus(),t.recovery_code="")},x=()=>{t.post(route("two-factor.login"))};return(d,e)=>(l(),f(h,null,{default:s(()=>[o(c(w),{title:"Two-factor Confirmation"}),o(N,{bg:"purplePink"},{default:s(({cardClass:V})=>[o(R,{class:v(V),form:"",onSubmit:b(x,["prevent"])},{default:s(()=>[o(B),o(_,null,{default:s(()=>[g("div",F,[r.value?(l(),n(u,{key:1},[i(" Please confirm access to your account by entering one of your emergency recovery codes. ")],64)):(l(),n(u,{key:0},[i(" Please confirm access to your account by entering the authentication code provided by your authenticator application. ")],64))])]),_:1}),r.value?(l(),f(_,{key:1,label:"Recovery Code","label-for":"recovery_code",help:"Please enter recovery code"},{default:s(()=>[o(k,{id:"recovery_code",onSetRef:e[2]||(e[2]=a=>p.value=a),modelValue:c(t).recovery_code,"onUpdate:modelValue":e[3]||(e[3]=a=>c(t).recovery_code=a),type:"text",class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})):(l(),f(_,{key:0,label:"Code","label-for":"code",help:"Please enter one-time code"},{default:s(()=>[o(k,{id:"code",onSetRef:e[0]||(e[0]=a=>y.value=a),modelValue:c(t).code,"onUpdate:modelValue":e[1]||(e[1]=a=>c(t).code=a),type:"text",inputmode:"numeric",autofocus:"",autocomplete:"one-time-code"},null,8,["modelValue"])]),_:1})),o(S),o(U,null,{default:s(()=>[o(T,{type:"submit",color:"info",label:"Log in",class:v({"opacity-25":c(t).processing}),disabled:c(t).processing},null,8,["class","disabled"]),g("button",{onClick:b(C,["prevent"])},[r.value?(l(),n(u,{key:1},[i(" Use an authentication code ")],64)):(l(),n(u,{key:0},[i(" Use a recovery code ")],64))],8,z)]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{X as default};
